---
import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { icon10 } from "@/constants/icon10";
import { icon4 } from "@/constants/icon4";
import { icon5 } from "@/constants/icon5";
import { icon6 } from "@/constants/icon6";
import { icon7 } from "@/constants/icon7";
import { icon8 } from "@/constants/icon8";
import {
  buttonWrapperDisclaimer,
  buttonWrapperLabel,
} from "@/translations/button-wrapper";
import type { Bullet } from "@/types/bullet";
import { showcase } from "../../../../globals/features/showcase/text";
import type { ComponentProps } from "../../../../globals/types/component-props";
import { Features } from "../../../../globals/types/enums";
import type { TranslationsType } from "../../../../globals/types/translations";
import { textBy } from "../../../../globals/utils/text-by";
import ButtonWrapper from "./Button-Wrapper";

interface Props {
  componentProps: ComponentProps;
}
const { componentProps } = Astro.props;

const title: TranslationsType = textBy(
  {
    default: {
      en: "",
      it: "",
      tr: "",
      ro: "",
      ar: "",
      de: "",
      es: "",
      sv: "",
      pt: "",
      fi: "",
      pl: ``,
      hu: "",
      th: "",
      ms: "",
      vi: "",
    },
    cysec: {
      en: `Open your ${componentProps.brandObj.name} account today and start trading!`,
      it: "",
      tr: "",
      ro: "",
      ar: "",
      de: "",
      es: "",
      sv: "",
      pt: "",
      fi: "",
      pl: `Załóż rachunek ${componentProps.brandObj.name} i zacznij zarabiać od razu!`,
      hu: "",
      th: "",
      ms: "",
      vi: "",
    },
  },
  "license",
  componentProps,
);

const bulletsRows: Bullet[][] = [
  [
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Advanced Platforms",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Zaawansowany interfejs`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Exchange technology on easy-to-use platforms.",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Przewalutowania bez opłat`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon4,
    },
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Professional support 24/5",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Obsługa 24/5`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "A multilingual and dedicated support team.",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Wielojęzyczny i oddany zespół wsparcia.`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon5,
    },
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "A variety of CFDs at your fingertips",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Wszystkie aktywa w zasięgu ręki`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "You can trade CFDs on shares, of major international companies.",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Handluj kontraktami na akcjach największych międzynarodowych firm.`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon6,
    },
  ],
  [
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon10,
    },
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Market updates",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Aktualizacje na temat rynku`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Keep up to date with the latest market movements using our tools, and news.",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Bądź na bieżąco ze wszystkimi najnowszymi wydarzeniami na rynku`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon7,
    },
    {
      title: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Speed of execution",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Stawiamy głównie na skuteczność wykonywanych transakcji.`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      para: textBy(
        {
          default: {
            en: "",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: ``,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
          cysec: {
            en: "Enjoy the ultra-fast execution time of your operations",
            it: "",
            tr: "",
            ro: "",
            ar: "",
            de: "",
            es: "",
            sv: "",
            pt: "",
            fi: "",
            pl: `Ciesz się natychmiastową realizacją każdego trade-a.`,
            hu: "",
            th: "",
            ms: "",
            vi: "",
          },
        },
        "license",
        componentProps,
      ),
      svgIcon: icon8,
    },
  ],
];
---

<section id="section3" class="bg-gray-200 py-7 pb-7 md:py-8 lg:py-9 xl:py-11">
  <div class="container">
    <h2
      set:html={componentProps.features?.includes(Features.showcase)
        ? showcase({ words: 10 })
        : title[componentProps.lang]}
      class="text-heading2 text-center font-bold"
    />
  </div>
  {
    bulletsRows.map((row, index) => {
      let bulletClasses: string;

      if (index === 0) bulletClasses = "lg:basis-1/3";
      if (index === 1) bulletClasses = "lg:basis-1/2";

      return (
        <div class={`container flex flex-col gap-6 pt-6 lg:flex-row`}>
          {row.map((bullet) => {
            if (!bullet.title[componentProps.lang]) return null;

            return (
              <div class={bulletClasses}>
                <Card className="h-full">
                  <CardHeader className="text-center  items-center justify-start lg:[&>svg]:h-16 lg:py-20 xl:py-28 flex flex-col space-y-1.5 p-6">
                    {bullet.svgIcon && <Fragment set:html={bullet.svgIcon} />}
                    <CardTitle className="text-[1rem] text-primary font-extrabold">
                      {componentProps.features?.includes(Features.showcase)
                        ? showcase({ words: 3 })
                        : bullet.title[componentProps.lang]}
                    </CardTitle>
                    {bullet.para && (
                      <CardDescription className="text-balance">
                        {componentProps.features?.includes(Features.showcase)
                          ? showcase({ words: 15 })
                          : bullet.para[componentProps.lang]}
                      </CardDescription>
                    )}
                  </CardHeader>
                </Card>
              </div>
            );
          })}
        </div>
      );
    })
  }
  <div class="container mt-8 grid place-items-center">
    <ButtonWrapper
      componentProps={componentProps}
      buttonLabel={componentProps.features?.includes(Features.showcase)
        ? showcase({ words: 2 })
        : buttonWrapperLabel[componentProps.lang]}
      buttonDisclaimer={componentProps.features?.includes(Features.showcase)
        ? showcase({ words: 5 })
        : buttonWrapperDisclaimer[componentProps.lang]}
      hrefTo="formWrapper"
      whatsapp={componentProps.brandObj.whatsapp}
      client:only
    />
  </div>
</section>
