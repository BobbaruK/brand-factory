---
import { Image } from "astro:assets";
import Form from "../../../../globals/components/form";
import type { ComponentProps } from "../../../../globals/types/component-props";
import type { TranslationsType } from "../../../../globals/types/translations";
import user1 from "../assets/user1.png";
import user2 from "../assets/user2.png";
import { Features } from "../../../../globals/types/enums";
import { showcase } from "../../../../globals/features/showcase/text";

interface Props {
  componentProps: ComponentProps;
}
const { componentProps } = Astro.props;

const title: TranslationsType = {
  en: `Courses tailored for every trader`,
  it: `Corsi su misura per ogni trader`,
  tr: `Her tüccara özel kurslar`,
  ro: `Cursuri adaptate pentru fiecare trader`,
  ar: `دورات مصممة لكل متداول`,
  de: `Kurse, die auf jeden Trader zugeschnitten sind`,
  es: `Cursos diseñados para cada trader`,
  sv: `Kurser anpassade för varje handlare`,
  pt: `Cursos personalizados para cada trader`,
  fi: `Kursseja jokaiselle kauppiaalle`,
  pl: `Kursy dopasowane do każdego tradera`,
  hu: `Minden kereskedőnek testre szabott tanfolyamok`,
  th: `หลักสูตรที่ปรับให้เหมาะกับเทรดเดอร์ทุกคน`,
  ms: `Kursus disesuaikan untuk setiap pedagang`,
  vi: `Các khóa học phù hợp cho mọi nhà giao dịch`,
};

const users: {
  name: string;
  testimonial: TranslationsType;
  avatar: ImageMetadata;
}[] = [
  {
    name: "Luca P.",
    testimonial: {
      en: `${componentProps.brandObj.name} gave me the tools to succeed in global markets. Highly recommended!`,
      it: `Trading Atheneum mi ha fornito gli strumenti per avere successo nei mercati globali. Altamente raccomandato!`,
      tr: `${componentProps.brandObj.name} bana küresel pazarlarda başarılı olmam için gerekli araçları sağladı. Şiddetle tavsiye ederim!`,
      ro: `${componentProps.brandObj.name} mi-a oferit instrumentele necesare pentru a reuși pe piețele globale. Recomand cu căldură!`,
      ar: `زودني ${componentProps.brandObj.name} بالأدوات للنجاح في الأسواق العالمية. أنصح به بشدة!`,
      de: `${componentProps.brandObj.name} hat mir die Werkzeuge gegeben, um auf den globalen Märkten erfolgreich zu sein. Sehr zu empfehlen!`,
      es: `${componentProps.brandObj.name} me dio las herramientas para triunfar en los mercados globales. ¡Muy recomendado!`,
      sv: `${componentProps.brandObj.name} gav mig verktygen för att lyckas på globala marknader. Rekommenderas starkt!`,
      pt: `${componentProps.brandObj.name} me deu as ferramentas para ter sucesso nos mercados globais. Altamente recomendado!`,
      fi: `${componentProps.brandObj.name} antoi minulle työkalut menestyä globaalilla markkinoilla. Suosittelen lämpimästi!`,
      pl: `${componentProps.brandObj.name} dał mi narzędzia do sukcesu na rynkach globalnych. Gorąco polecam!`,
      hu: `${componentProps.brandObj.name} megadta a sikert a globális piacokon. Nagyon ajánlom!`,
      th: `${componentProps.brandObj.name} มอบเครื่องมือให้ฉันประสบความสำเร็จในตลาดโลก แนะนำอย่างยิ่ง!`,
      ms: `${componentProps.brandObj.name} memberi saya alat untuk berjaya di pasaran global. Sangat disyorkan!`,
      vi: `${componentProps.brandObj.name} đã cung cấp cho tôi công cụ để thành công trên thị trường toàn cầu. Rất đáng được giới thiệu!`,
    },
    avatar: user1,
  },
  {
    name: "Giulia T.",
    testimonial: {
      en: `The personalized mentorship was transformative—it felt like a journey tailored to me.`,
      it: `La mentorship personalizzata è stata trasformativa: è sembrato un percorso costruito su misura per me.`,
      tr: `Kişiye özel mentorluk dönüştürücüydü — benim için özel hazırlanmış bir yolculuk gibiydi.`,
      ro: `Mentoratul personalizat a fost transformator — a părut o călătorie creată special pentru mine.`,
      ar: `كانت الإرشادات الشخصية مغيرة للحياة - شعرت وكأنها رحلة مخصصة لي.`,
      de: `Die persönliche Betreuung war transformativ — es fühlte sich an wie eine auf mich zugeschnittene Reise.`,
      es: `La mentoría personalizada fue transformadora — se sintió como un viaje hecho a mi medida.`,
      sv: `Den personliga mentoreringen var omvälvande — det kändes som en resa anpassad för mig.`,
      pt: `A mentoria personalizada foi transformadora — parecia uma jornada feita sob medida para mim.`,
      fi: `Henkilökohtainen mentorointi oli mullistavaa — tuntui kuin matkalta, joka oli räätälöity minulle.`,
      pl: `Spersonalizowany mentoring był przełomowy — czułem, że to podróż stworzona dla mnie.`,
      hu: `A személyre szabott mentorálás átalakító volt — olyan érzés volt, mintha egy nekem szabott utazáson lettem volna.`,
      th: `การให้คำปรึกษาแบบเฉพาะบุคคลเปลี่ยนแปลงชีวิต — รู้สึกเหมือนการเดินทางที่ออกแบบมาเพื่อตัวฉันโดยเฉพาะ`,
      ms: `Mentor peribadi itu sangat mengubah — ia terasa seperti perjalanan yang disesuaikan untuk saya.`,
      vi: `Sự hướng dẫn cá nhân hóa thật sự thay đổi — cảm giác như một hành trình được thiết kế riêng cho tôi.`,
    },
    avatar: user2,
  },
];

const buttonLabel: TranslationsType = {
  en: `Discover more`,
  it: `Scopri di più`,
  tr: `Daha fazlasını keşfet`,
  ro: `Descoperă mai mult`,
  ar: `اكتشف المزيد`,
  de: `Mehr entdecken`,
  es: `Descubre más`,
  sv: `Upptäck mer`,
  pt: `Descubra mais`,
  fi: `Lue lisää`,
  pl: `Odkryj więcej`,
  hu: `Fedezz fel többet`,
  th: `ค้นหาข้อมูลเพิ่มเติม`,
  ms: `Terokai lebih lanjut`,
  vi: `Khám phá thêm`,
};
---

<section id="testimonials" class="relative py-8 lg:py-16">
  <div class="relative z-10 container flex flex-col gap-1 lg:flex-row">
    <div class="flex flex-col items-start justify-center gap-8">
      <h2
        set:html={componentProps.features?.includes(Features.showcase)
          ? showcase({
              words: 5,
            })
          : title[componentProps.lang]}
        class="text-heading2 leading-heading2 text-primary font-extrabold text-balance uppercase"
      />

      <ul class="grid grid-cols-1 gap-4 lg:grid-cols-2">
        {
          users.map((user) => (
            <li class="text-para flex items-center justify-start gap-4 leading-tight">
              <Image
                src={user.avatar}
                alt="Background"
                class=""
                widths={[
                  320,
                  576,
                  640,
                  768,
                  1024,
                  1280,
                  1536,
                  user.avatar.width,
                ]}
                sizes={`
                  (max-width: 640px) 640px,
                  100vw
                `}
              />
              <div>
                <span class="text-primary italic">
                  "
                  {componentProps.features?.includes(Features.showcase)
                    ? showcase({
                        words: 15,
                      })
                    : user.testimonial[componentProps.lang]}
                  "
                </span>
                <span class="font-bold">
                  &mdash;{" "}
                  {componentProps.features?.includes(Features.showcase)
                    ? showcase({
                        words: 2,
                      })
                    : user.name}
                </span>
              </div>
            </li>
          ))
        }
      </ul>

      <Form
        componentProps={componentProps}
        button={buttonLabel[componentProps.lang]}
        id="section-form"
      />
    </div>
  </div>
</section>

<style lang="scss" is:global>
  @reference "../styles/global.css";

  form.registerForm {
    @apply mx-auto max-w-[650px];
    input,
    select {
      @apply text-slate-800;
    }
    input[disabled] {
      // color: white;
    }

    .registerFormInner {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: repeat(4, auto);
      // @container (min-width: 750px) {
      //   grid-template-columns: 1fr 1fr 1fr;
      // }
      > .form-control {
        grid-column-start: 1;
        grid-column-end: 3;
        &.firstNameWrapper,
        &.emailWrapper {
          @container (min-width: 430px) {
            grid-column-start: 1;
            grid-column-end: 2;
          }
        }
        &.lastNameWrapper,
        &.countryWrapper {
          @container (min-width: 430px) {
            grid-column-start: 2;
            grid-column-end: 3;
          }
        }
      }
    }

    .form-control {
      label {
        font-size: 1rem;
      }
      input[type="text"],
      input[type="email"],
      input[type="tel"],
      select {
        // border: medium none;
        // max-width: 100%;
        // padding: 5px 15px;
        // transition: 350ms;
        // width: 100%;

        @apply text-lg lg:text-2xl;

        @apply h-12 text-black;
        &:hover {
        }
        &:focus {
        }
        &::placeholder {
        }
      }
      button {
        @apply bg-secondary text-secondary-foreground hover:bg-primary hover:text-primary-foreground flex h-20 gap-4 text-lg text-white uppercase lg:text-2xl;
      }
    }
  }
</style>
