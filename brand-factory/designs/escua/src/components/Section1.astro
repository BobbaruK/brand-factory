---
import { Image } from "astro:assets";

import { showcase } from "../../../../globals/features/showcase/text";
import type { ComponentProps } from "../../../../globals/types/component-props";
import { Features } from "../../../../globals/types/enums";
import type { TranslationsType } from "../../../../globals/types/translations";
import icon1 from "../assets/icon1.png";
import icon2 from "../assets/icon2.png";
import icon3 from "../assets/icon3.png";
import section1BG from "../assets/section1-background.png";
import { textBy } from "../../../../globals/utils/text-by";
import type { CustomOptions } from "@/pages/index.astro";

interface Props {
  componentProps: ComponentProps<any, CustomOptions>;
}
const { componentProps } = Astro.props;

textBy(
  {
    default: textBy(
      {
        default: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
    cysec: textBy(
      {
        default: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
  },
  "license",
  componentProps,
);

const para: TranslationsType = textBy(
  {
    default: textBy(
      {
        default: {
          en: ``,
          it: `${componentProps.brandObj.name} ti offre la possibilità di imparare a fare trading e praticare le tue abilità su un conto demo di 10.000 EUR con 0 rischio`,
          tr: "",
          ro: `${componentProps.brandObj.name} iţi oferă şansa de a învăţa să tranzacţionezi şi să exersezi pe un cont DEMO cu €10.000 cu risc 0.`,
          ar: "",
          de: "",
          es: "",
          sv: "",
          pt: "",
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
    cysec: textBy(
      {
        default: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: ``,
          it: `${componentProps.brandObj.name} ti offre la possibilità di imparare a fare trading e praticare le tue abilità su un conto demo di 10.000 EUR con 0 rischio`,
          tr: "",
          ro: `${componentProps.brandObj.name} iţi oferă şansa de a învăţa să tranzacţionezi şi să exersezi pe un cont DEMO cu €10.000 cu risc 0.`,
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: `${componentProps.brandObj.name} daje Ci możliwość nauki handlu i ćwiczenia swoich umiejętności transakcyjnych na darmowym koncie demo.`,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
  },
  "license",
  componentProps,
);

const title: TranslationsType = textBy(
  {
    default: textBy(
      {
        default: {
          en: `Interested in Trading? Check what ${componentProps.brandObj.name} can offer:`,
          it: "Inizia ad operare in modo intelligente con 3 semplici passi:",
          tr: "",
          ro: `Învaţă să tranzacţionezi în 3 paşi:`,
          ar: "",
          de: "",
          es: "",
          sv: "",
          pt: "",
          fi: "",
          pl: `Zainteresowany zarabianiem poprzez inwestycje? sprawdź co oferuje ${componentProps.brandObj.name}:`,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
    cysec: textBy(
      {
        default: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: ``,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
        meaningfulName: {
          en: "",
          it: ``,
          tr: "",
          ro: "",
          ar: "",
          de: "",
          es: ``,
          sv: ``,
          pt: ``,
          fi: "",
          pl: `Nauka inteligentnego handlu w 3 krokach:`,
          hu: "",
          th: "",
          ms: "",
          vi: "",
        },
      },
      "textVersion",
      componentProps.customOptions,
    ),
  },
  "license",
  componentProps,
);

interface Bullet {
  title: TranslationsType;
  image: ImageMetadata;
}

// TODO: icons to svg
const bullets: Bullet[] = [
  {
    title: textBy(
      {
        default: textBy(
          {
            default: {
              en: "Educational material",
              it: "Ricevi la tua guida gratuita in PDF",
              tr: "",
              ro: `Primeşte GRATUIT GHIDUL PDF`,
              ar: "",
              de: "",
              es: "",
              sv: "",
              pt: "",
              fi: "",
              pl: `Materiały szkoleniowe`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
        cysec: textBy(
          {
            default: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: `Pobierz darmowy przewodnik PDF`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
      },
      "license",
      componentProps,
    ),
    image: icon1,
  },
  {
    title: textBy(
      {
        default: textBy(
          {
            default: {
              en: "Training sessions",
              it: `Ottieni una sessione di formazione gratuita personalizzata con un rappresentante ${componentProps.brandObj.name}`,
              tr: "",
              ro: `Înscrie-te pentru un training 1 la 1 gratuit cu un reprezentant ${componentProps.brandObj.name}.`,
              ar: "",
              de: "",
              es: "",
              sv: "",
              pt: "",
              fi: "",
              pl: `Sesje szkoleniowe`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
        cysec: textBy(
          {
            default: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: `Skorzystaj z bezpłatnej sesji szkoleniowej z naszym przedstawicielem`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
      },
      "license",
      componentProps,
    ),
    image: icon2,
  },
  {
    title: textBy(
      {
        default: textBy(
          {
            default: {
              en: "Test your knowledge on DEMO account",
              it: "Prova la tua conoscenza sul conto Demo Gratuito",
              tr: "",
              ro: `Testează-ţi cunoştinţele pe un cont DEMO GRATUIT.`,
              ar: "",
              de: "",
              es: "",
              sv: "",
              pt: "",
              fi: "",
              pl: `Przetestuj swoje umiejętności z nami podczas okresu próbnego`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
        cysec: textBy(
          {
            default: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: ``,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
            meaningfulName: {
              en: "",
              it: ``,
              tr: "",
              ro: "",
              ar: "",
              de: "",
              es: ``,
              sv: ``,
              pt: ``,
              fi: "",
              pl: `Przetestuj swoje umiejętności na darmowym koncie demo`,
              hu: "",
              th: "",
              ms: "",
              vi: "",
            },
          },
          "textVersion",
          componentProps.customOptions,
        ),
      },
      "license",
      componentProps,
    ),
    image: icon3,
  },
];
---

<section
  id="section1"
  class="section1 relative mb-8 py-4 sm:pt-8 sm:pb-16 md:pb-28 lg:pt-12 lg:pb-26 xl:pt-20"
>
  <Image
    src={section1BG}
    alt="Background"
    class="absolute top-0 left-0 z-0 hidden h-full w-full sm:block"
    widths={[320, 576, 640, 768, 1024, 1280, 1536, section1BG.width]}
    sizes={"100vw"}
  />
  <div class="relative z-10">
    <div
      class="container grid place-items-center gap-5 pb-4 sm:pb-8 lg:gap-9 lg:pb-12"
    >
      {
        para[componentProps.lang] && (
          <p
            class="max-w-[60ch] text-center text-[22px] sm:text-[25px]"
            set:html={
              componentProps.features?.includes(Features.showcase)
                ? showcase({ words: 30 })
                : para[componentProps.lang]
            }
          />
        )
      }
      <h2
        set:html={componentProps.features?.includes(Features.showcase)
          ? showcase({ words: 15 })
          : title[componentProps.lang]}
        class="text-primary max-w-[50ch] text-center text-3xl font-bold uppercase"
      />
    </div>
    <div class="container flex flex-col gap-8 md:flex-row">
      {
        bullets.map((bullet) => (
          <div class="flex flex-col items-center justify-start gap-4 md:basis-1/3">
            <Image
              src={bullet.image}
              alt="Background"
              class=""
              widths={[102, bullet.image.width]}
              sizes={"102px"}
            />
            <h3
              set:html={
                componentProps.features?.includes(Features.showcase)
                  ? showcase({ words: 5 })
                  : bullet.title[componentProps.lang]
              }
              class="max-w-[26ch] text-center text-balance"
            />
          </div>
        ))
      }
    </div>
  </div>
</section>
